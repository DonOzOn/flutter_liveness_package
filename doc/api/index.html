<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="flutter_liveness_check API docs, for the Dart programming language.">
  <title>flutter_liveness_check - Dart API docs</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">
  
</head>

<body data-base-href="" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="https://github.com/DonOzOn/flutter_liveness_package">flutter_liveness_check package</a></li>
  </ol>
  <div class="self-name">flutter_liveness_check</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button" title="Toggle brightness">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        dark_mode
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        light_mode
      </span>
    </label>
  </div>
</header>
<main>
  <div id="dartdoc-main-content" class="main-content">
      
<section class="desc markdown">
  <h1 id="-flutter-liveness-check-package">üé≠ Flutter Liveness Check Package</h1>
<p>A comprehensive Flutter package for face liveness detection with fully customizable UI, AppBar configuration, error handling, and advanced features. Built with ML Kit for accurate face detection, this package provides a complete solution for secure identity verification in mobile applications.</p>
<p><a href="https://pub.dev/packages/flutter_liveness_check"><img src="https://img.shields.io/pub/v/flutter_liveness_check.svg" alt="pub package"></a>
<a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a>
<a href="https://flutter.dev/"><img src="https://img.shields.io/badge/platform-flutter-blue.svg" alt="Platform"></a></p>
<h2 id="-features">‚ú® Features</h2>
<ul>
<li><strong>üì∑ Real-time Face Detection</strong> - ML Kit powered liveness verification</li>
<li><strong>üé® Fully Customizable UI</strong> - Comprehensive theming and styling options</li>
<li><strong>üîß Flexible AppBar</strong> - Custom titles, back buttons, and complete AppBar control</li>
<li><strong>üìä Status Management</strong> - Init, success, and fail states with asset replacement</li>
<li><strong>üîÑ Retry Logic</strong> - Configurable maximum attempts with callbacks</li>
<li><strong>üåç Localization Support</strong> - Customizable messages and button text</li>
<li><strong>üéØ Error Handling</strong> - Type-safe error enums with detailed error information including eyes closed detection</li>
<li><strong>üé≠ Custom Widgets</strong> - Custom bottom widgets and loading overlays</li>
<li><strong>‚úèÔ∏è Font Customization</strong> - Set custom font family for all text elements</li>
<li><strong>üîç Quality Detection</strong> - Advanced blur and lighting analysis</li>
<li><strong>üëÅÔ∏è Eyes Closed Detection</strong> - Specific error message when eyes are closed during verification</li>
<li><strong>‚è∏Ô∏è Pause/Resume Control</strong> - Pause and resume camera preview and face detection</li>
<li><strong>üéöÔ∏è Flexible Detection Modes</strong> - Enable/disable blink or smile detection independently</li>
<li><strong>‚è±Ô∏è Photo Capture Delay</strong> - Configurable delay before capturing photo after verification</li>
</ul>
<h2 id="-table-of-contents">üìã Table of Contents</h2>
<ul>
<li><a href="#-installation">Installation</a></li>
<li><a href="#-quick-start">Quick Start</a></li>
<li><a href="#-features">Features</a></li>
<li><a href="#-complete-configuration-reference">Complete Configuration Reference</a></li>
<li><a href="#-usage-examples">Usage Examples</a></li>
<li><a href="#-theming-examples">Theming Examples</a></li>
<li><a href="#-error-handling">Error Handling</a></li>
<li><a href="#-localization">Localization</a></li>
<li><a href="#-platform-support">Platform Support</a></li>
<li><a href="#-performance-tips">Performance Tips</a></li>
<li><a href="#-best-practices">Best Practices</a></li>
<li><a href="#-migration-guide">Migration Guide</a></li>
<li><a href="#-contributing">Contributing</a></li>
<li><a href="#-license">License</a></li>
</ul>
<h2 id="-installation">üöÄ Installation</h2>
<p>Add this to your package's <code>pubspec.yaml</code> file:</p>
<pre class="language-yaml"><code class="language-yaml">dependencies:
  flutter_liveness_check: ^1.0.0
</code></pre>
<p>Then run:</p>
<pre class="language-bash"><code class="language-bash">flutter pub get
</code></pre>
<h3 id="platform-setup">Platform Setup</h3>
<h4 id="android">Android</h4>
<p>Add the following permissions to your <code>android/app/src/main/AndroidManifest.xml</code>:</p>
<pre class="language-xml"><code class="language-xml">&lt;uses-permission android:name="android.permission.CAMERA" /&gt;
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
</code></pre>
<h4 id="ios">iOS</h4>
<p>Add the following to your <code>ios/Runner/Info.plist</code>:</p>
<pre class="language-xml"><code class="language-xml">&lt;key&gt;NSCameraUsageDescription&lt;/key&gt;
&lt;string&gt;This app needs camera access for liveness verification&lt;/string&gt;
</code></pre>
<p>Add the following to your Podfile:</p>
<pre class="language-ruby"><code class="language-ruby">post_install do |installer|
  installer.pods_project.targets.each do |target|
    flutter_additional_ios_build_settings(target)
    target.build_configurations.each do |config|
      # You can remove unused permissions here
      # e.g. when you don't need camera permission, just add 'PERMISSION_CAMERA=0'
      config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= [
        '$(inherited)',
        ## dart: PermissionGroup.camera
        'PERMISSION_CAMERA=1',
      ]
    end
  end
end
</code></pre>
<h2 id="-platform-support">üì± Platform Support</h2>
<ul>
<li><strong>iOS</strong>: 10.0+ with Metal support</li>
<li><strong>Android</strong>: API level 21+ (Android 5.0)</li>
<li><strong>Flutter</strong>: 3.0.0 or higher</li>
<li><strong>Dart</strong>: 2.17 or higher</li>
<li><strong>Camera Permissions</strong>: Automatically requested with proper error handling</li>
<li><strong>ML Kit</strong>: Google ML Kit Face Detection API</li>
<li><strong>Hardware</strong>: Front-facing camera required</li>
</ul>
<h3 id="supported-architectures">Supported Architectures</h3>
<ul>
<li><strong>Android</strong>: arm64-v8a, armeabi-v7a, x86_64</li>
<li><strong>iOS</strong>: arm64, x86_64 (simulator)</li>
</ul>
<h2 id="-status-management">üîÑ Status Management</h2>
<p>The package supports three main states:</p>
<ul>
<li><strong><code>LivenessStatus.init</code></strong>: Shows camera preview with liveness detection</li>
<li><strong><code>LivenessStatus.success</code></strong>: Shows success asset/animation</li>
<li><strong><code>LivenessStatus.fail</code></strong>: Shows fail asset with retry button</li>
</ul>
<h2 id="-custom-assets">üé≠ Custom Assets</h2>
<p>Replace default success/fail assets:</p>
<pre class="language-dart"><code class="language-dart">LivenessCheckTheme(
  successAsset: 'packages/your_package/assets/custom_success.png',
  failAsset: 'packages/your_package/assets/custom_fail.png',
)
</code></pre>
<h2 id="-quick-start">‚ö° Quick Start</h2>
<h3 id="basic-usage">Basic Usage</h3>
<pre class="language-dart"><code class="language-dart">import 'package:flutter/material.dart';
import 'package:flutter_liveness_check/flutter_liveness_check.dart';

class MyLivenessCheck extends StatefulWidget {
  @override
  State&lt;MyLivenessCheck&gt; createState() =&gt; _MyLivenessCheckState();
}

class _MyLivenessCheckState extends State&lt;MyLivenessCheck&gt; {
  LivenessStatus _status = LivenessStatus.init;

  @override
  Widget build(BuildContext context) {
    return LivenessCheckScreen(
      config: LivenessCheckConfig(
        status: _status,
        appBarConfig: const AppBarConfig(
          title: 'Face Verification',
          showBackButton: true,
        ),
        callbacks: LivenessCheckCallbacks(
          onSuccess: () =&gt; setState(() =&gt; _status = LivenessStatus.success),
          onError: (error) =&gt; setState(() =&gt; _status = LivenessStatus.fail),
          onTryAgain: () =&gt; setState(() =&gt; _status = LivenessStatus.init),
        ),
      ),
    );
  }
}
</code></pre>
<h2 id="-manual-camera-control">üéÆ Manual Camera Control</h2>
<p>Use <code>LivenessCheckController</code> for advanced camera lifecycle management:</p>
<pre class="language-dart"><code class="language-dart">final controller = LivenessCheckController();

// Add controller to LivenessCheckScreen
LivenessCheckScreen(
  controller: controller,
  config: LivenessCheckConfig(...),
)

// Manual control methods
await controller.initializeCamera();  // Start camera + face detector
await controller.disposeCamera();     // Stop camera and release resources
controller.resetState();              // Reset blink count and smile status
await controller.pauseDetection();    // Pause camera preview and face detection
await controller.resumeDetection();   // Resume camera preview and face detection

// Monitor status
print(controller.isInitialized);  // Check if camera is ready
print(controller.isPaused);       // Check if camera is paused

// Listen to changes
controller.addListener(() {
  print('Camera status: ${controller.isInitialized}');
  print('Paused: ${controller.isPaused}');
});
</code></pre>
<h3 id="pauseresume-detection">Pause/Resume Detection</h3>
<p>Control camera preview and face detection without disposing the camera:</p>
<pre class="language-dart"><code class="language-dart">class _MyScreenState extends State&lt;MyScreen&gt; {
  final controller = LivenessCheckController();
  bool _showingDialog = false;

  Future&lt;void&gt; _showInstructions() async {
    // Pause detection while showing instructions
    await controller.pauseDetection();
    _showingDialog = true;

    await showDialog(
      context: context,
      builder: (context) =&gt; AlertDialog(
        title: Text('Instructions'),
        content: Text('Please position your face in the circle and blink 3 times'),
        actions: [
          TextButton(
            onPressed: () =&gt; Navigator.pop(context),
            child: Text('Got it'),
          ),
        ],
      ),
    );

    _showingDialog = false;
    // Resume detection after dialog closes
    await controller.resumeDetection();
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: LivenessCheckScreen(
        controller: controller,
        config: LivenessCheckConfig(...),
      ),
      floatingActionButton: FloatingActionButton(
        onPressed: _showInstructions,
        child: Icon(Icons.help),
      ),
    );
  }
}
</code></pre>
<h3 id="app-lifecycle-management-example">App Lifecycle Management Example</h3>
<pre class="language-dart"><code class="language-dart">class _MyScreenState extends State&lt;MyScreen&gt; with WidgetsBindingObserver {
  final controller = LivenessCheckController();

  @override
  void initState() {
    super.initState();
    WidgetsBinding.instance.addObserver(this);
  }

  @override
  void dispose() {
    WidgetsBinding.instance.removeObserver(this);
    controller.dispose();
    super.dispose();
  }

  @override
  void didChangeAppLifecycleState(AppLifecycleState state) {
    if (state == AppLifecycleState.paused) {
      // Use pauseDetection to save battery while keeping camera initialized
      controller.pauseDetection();
    } else if (state == AppLifecycleState.resumed) {
      // Resume detection when app comes back
      controller.resumeDetection();
    }
  }

  @override
  Widget build(BuildContext context) {
    return LivenessCheckScreen(
      controller: controller,
      config: LivenessCheckConfig(...),
    );
  }
}
</code></pre>
<h2 id="-complete-configuration-reference">üìñ Complete Configuration Reference</h2>
<h3 id="livenesscheckconfig">LivenessCheckConfig</h3>
<p>Main configuration container for all customization options:</p>
<pre class="language-dart"><code class="language-dart">LivenessCheckConfig(
  // AppBar Configuration
  appBarConfig: AppBarConfig(),

  // UI Components
  customBottomWidget: Widget?,
  customLoadingWidget: Widget?,

  // Visual Theme
  theme: LivenessCheckTheme(),

  // Behavior Settings
  settings: LivenessCheckSettings(),

  // Text &amp; Localization
  messages: LivenessCheckMessages(),

  // Event Callbacks
  callbacks: LivenessCheckCallbacks(),

  // Status &amp; Loading
  status: LivenessStatus.init,
  showLoading: false,
  placeholder: "Please smile or blink eye 3 time",
)
</code></pre>
<h3 id="appbarconfig---complete-appbar-control">AppBarConfig - Complete AppBar Control</h3>
<pre class="language-dart"><code class="language-dart">AppBarConfig(
  // Basic Properties
  title: 'Custom Title',
  centerTitle: true,
  backgroundColor: Colors.blue,
  elevation: 4.0,

  // Back Button Control
  showBackButton: true,           // Show/hide back button
  automaticallyImplyLeading: true, // Flutter's automatic leading
  customBackIcon: IconButton(     // Custom back widget
    icon: Icon(Icons.close),
    onPressed: () =&gt; Navigator.pop(context),
  ),

  // Text Styling
  titleStyle: TextStyle(
    fontSize: 20,
    fontWeight: FontWeight.bold,
    color: Colors.white,
  ),
)
</code></pre>
<h3 id="livenesschecktheme---visual-customization">LivenessCheckTheme - Visual Customization</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckTheme(
  // Colors
  backgroundColor: Colors.white,
  primaryColor: Colors.blue,
  successColor: Colors.green,
  errorColor: Colors.red,
  textColor: Colors.black,

  // Circle Styling
  borderStyle: CircleBorderStyle.solid, // or CircleBorderStyle.dashed
  borderColor: Colors.blue,
  borderWidth: 4.0,
  circleSize: 0.7, // 0.0 to 1.0
  cameraPadding: 8.0,

  // Dashed Border (when borderStyle = dashed)
  dashLength: 10.0,
  dashGap: 6.0,

  // Try Again Button Styling
  btnRetryBGColor: Colors.blue,
  btnTextRetryColor: Colors.white,
  btnRetryHeight: 44.0,              // Button height (default: 44)
  btnRetryPadding: EdgeInsets.symmetric(vertical: 16),
  btnRetryBorderRadius: 8.0,         // Border radius

  // Typography
  fontFamily: 'CustomFont',
  titleTextStyle: TextStyle(),
  messageTextStyle: TextStyle(),
  errorTextStyle: TextStyle(),
  successTextStyle: TextStyle(),

  // Assets
  successAsset: 'assets/custom_success.png',
  failAsset: 'assets/custom_fail.png',
)
</code></pre>
<h3 id="livenesscheckcallbacks---event-handling">LivenessCheckCallbacks - Event Handling</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckCallbacks(
  // Basic Events
  onSuccess: () {
    print('Liveness check passed!');
  },
  onError: (String errorMessage) {
    print('Error: $errorMessage');
  },
  onCancel: () {
    print('User cancelled');
  },

  // Advanced Events
  onErrorWithType: (LivenessCheckError errorType, String message) {
    switch (errorType) {
      case LivenessCheckError.noFaceDetected:
        // Handle no face error
        break;
      case LivenessCheckError.cameraPermissionDenied:
        // Handle permission error
        break;
      // ... handle other error types
    }
  },

  // Photo &amp; Progress
  onPhotoTaken: (String imagePath) {
    print('Photo saved: $imagePath');
  },
  onProgressUpdate: (int blinkCount, bool isSmiling) {
    print('Progress: $blinkCount blinks, smiling: $isSmiling');
  },

  // Retry Logic
  onTryAgain: () {
    print('User retrying');
  },
  onMaxRetryReached: (int attemptCount) {
    print('Max attempts reached: $attemptCount');
  },
)
</code></pre>
<h3 id="livenesschecksettings---behavior-configuration">LivenessCheckSettings - Behavior Configuration</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckSettings(
  // Liveness Requirements
  enableBlinkDetection: true,     // Enable/disable blink detection
  requiredBlinkCount: 3,          // Number of blinks required
  enableSmileDetection: true,     // Enable/disable smile detection
  enableEyesClosedCheck: true,    // Enable/disable eyes closed error detection
                                  // Note: Auto-skipped when enableBlinkDetection is true

  // UI Controls
  showProgress: true,
  showErrorMessage: true,
  showTryAgainButton: true,

  // Behavior
  autoNavigateOnSuccess: true,
  maxRetryAttempts: 3,
  processingTimeout: Duration(seconds: 30),

  // Layout
  circlePositionY: 0.38, // Vertical position (0.0 to 1.0)

  // Photo Capture
  photoCaptureDelay: Duration(milliseconds: 0), // Delay before capturing photo
)
</code></pre>
<h3 id="livenesscheckmessages---text-customization">LivenessCheckMessages - Text Customization</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckMessages(
  // AppBar
  title: 'Liveness Check',

  // Status Messages
  initializingCamera: 'Initializing camera...',
  noFaceDetected: 'No face detected. Please position your face in the circle.',
  multipleFacesDetected: 'Multiple faces detected. Only one person allowed.',
  livenessCheckPassed: 'Liveness check passed! Taking photo...',

  // Quality Messages
  moveCloserToCamera: 'Move closer to camera or hold device steady.',
  holdStill: 'Hold still. Face features not clear.',
  imageTooBlurry: 'Image too blurry. Hold device steady.',
  poorLighting: 'Poor lighting conditions.',

  // Error Messages
  failedToCapture: 'Failed to capture photo',
  cameraPermissionDenied: 'Camera permission denied',
  failedToInitializeCamera: 'Failed to initialize camera',

  // UI Text
  tryAgainButtonText: 'Try Again',
  takingPhoto: 'Taking photo...',

  // Permission Dialog Configuration
  permissionDialogConfig: PermissionDialogConfig(
    title: 'Camera Permission Required',
    message: 'Camera permission is required for liveness check. Please enable it in settings.',
    cancelButtonText: 'Cancel',
    settingsButtonText: 'Open Settings',
  ),
)
</code></pre>
<h3 id="permissiondialogconfig---permission-dialog-customization">PermissionDialogConfig - Permission Dialog Customization</h3>
<p>When camera permission is permanently denied, a dialog will be shown to guide users to settings. Customize this dialog:</p>
<pre class="language-dart"><code class="language-dart">PermissionDialogConfig(
  title: 'Camera Access Needed',
  message: 'To verify your identity, we need access to your camera. Please enable it in your device settings.',
  cancelButtonText: 'Not Now',
  settingsButtonText: 'Go to Settings',
)
</code></pre>
<h3 id="camerasettings---config-camera-controller">CameraSettings - Config camera controller</h3>
<pre class="language-dart"><code class="language-dart">enum ResolutionPreset {
  low,       // 352x288 (CIF)
  medium,    // 720x480 (NTSC)
  high,      // 1280x720 (HD)
  veryHigh,  // 1920x1080 (Full HD)
  ultraHigh, // 3840x2160 (4K)
  max        // Highest available, varies by device
}
enum ImageFormatGroup {
  unknown,
  jpeg,     // Compressed, smaller, good for storage/sharing
  yuv420,   // Raw format, great for real-time processing (default)
  bgra8888, // iOS-friendly, raw format
}

CameraSettings(
    //ResolutionPreset
    this.resolutionPreset = ResolutionPreset.high,
    //controls microphone input
    this.enableAudio = false,
    //ImageFormatGroup
    this.imageFormatGroup,
)
</code></pre>
<h2 id="-usage-examples">üéØ Usage Examples</h2>
<h3 id="1-no-back-button-example">1. No Back Button Example</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: const AppBarConfig(
      title: 'Secure Verification',
      showBackButton: false, // Hide back button
    ),
    customBottomWidget: Container(
      padding: const EdgeInsets.all(16),
      child: ElevatedButton(
        onPressed: () =&gt; Navigator.pop(context),
        child: const Text('Done'),
      ),
    ),
  ),
)
</code></pre>
<h3 id="2-custom-back-icon-with-confirmation">2. Custom Back Icon with Confirmation</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: AppBarConfig(
      title: 'Identity Verification',
      showBackButton: true,
      customBackIcon: IconButton(
        icon: const Icon(Icons.close),
        onPressed: () {
          showDialog(
            context: context,
            builder: (context) =&gt; AlertDialog(
              title: const Text('Cancel Verification?'),
              content: const Text('Are you sure you want to cancel?'),
              actions: [
                TextButton(
                  onPressed: () =&gt; Navigator.pop(context),
                  child: const Text('No'),
                ),
                TextButton(
                  onPressed: () {
                    Navigator.pop(context); // Close dialog
                    Navigator.pop(context); // Close liveness screen
                  },
                  child: const Text('Yes'),
                ),
              ],
            ),
          );
        },
      ),
    ),
  ),
)
</code></pre>
<h3 id="3-banking-app-integration">3. Banking App Integration</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: AppBarConfig(
      title: 'SecureBank Verification',
      backgroundColor: const Color(0xFF1565C0),
      titleStyle: const TextStyle(
        color: Colors.white,
        fontWeight: FontWeight.bold,
      ),
      showBackButton: true,
      customBackIcon: CustomBackButton(
        onPressed: () =&gt; _handleBankingCancel(context),
      ),
    ),
    theme: const LivenessCheckTheme(
      primaryColor: Color(0xFF1565C0),
      borderStyle: CircleBorderStyle.dashed,
      fontFamily: 'Roboto',
    ),
    callbacks: LivenessCheckCallbacks(
      onErrorWithType: (errorType, message) {
        _handleBankingError(errorType, message);
      },
      onSuccess: () =&gt; _proceedToBankingApp(),
    ),
  ),
)
</code></pre>
<h3 id="4-blink-only-detection-no-smile-required">4. Blink-Only Detection (No Smile Required)</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: const AppBarConfig(
      title: 'Quick Verification',
      showBackButton: true,
    ),
    settings: const LivenessCheckSettings(
      enableBlinkDetection: true,     // Enable blink detection
      requiredBlinkCount: 3,          // Require 3 blinks
      enableSmileDetection: false,    // Disable smile detection
      maxRetryAttempts: 3,
    ),
    placeholder: 'Please blink your eyes 3 times',
    callbacks: LivenessCheckCallbacks(
      onSuccess: () =&gt; _handleSuccess(),
    ),
  ),
)
</code></pre>
<h3 id="5-smile-only-detection-no-blinks-required">5. Smile-Only Detection (No Blinks Required)</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: const AppBarConfig(
      title: 'Smile Verification',
      showBackButton: true,
    ),
    settings: const LivenessCheckSettings(
      enableBlinkDetection: false,    // Disable blink detection
      enableSmileDetection: true,     // Enable smile detection
      maxRetryAttempts: 3,
      photoCaptureDelay: Duration(milliseconds: 500), // Wait 500ms before capture
    ),
    placeholder: 'Please smile for the camera',
    callbacks: LivenessCheckCallbacks(
      onSuccess: () =&gt; _handleSuccess(),
    ),
  ),
)
</code></pre>
<h3 id="6-eyes-closed-check-smile-only-mode">6. Eyes Closed Check (Smile-Only Mode)</h3>
<pre class="language-dart"><code class="language-dart">// Eyes closed check is useful when blink detection is DISABLED
// Note: Automatically skipped when enableBlinkDetection is true
LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: const AppBarConfig(
      title: 'Smile Verification',
      showBackButton: true,
    ),
    settings: const LivenessCheckSettings(
      enableBlinkDetection: false,    // Disable blink detection
      enableSmileDetection: true,     // Enable smile detection
      enableEyesClosedCheck: true,    // Enable eyes closed check (useful in smile-only mode)
      maxRetryAttempts: 3,
    ),
    messages: const LivenessCheckMessages(
      eyesClosed: 'Please keep your eyes open',
    ),
    placeholder: 'Please smile with your eyes open',
    callbacks: LivenessCheckCallbacks(
      onSuccess: () =&gt; _handleSuccess(),
    ),
  ),
)
</code></pre>
<h3 id="7-e-commerce-kyc">7. E-commerce KYC</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    appBarConfig: const AppBarConfig(
      title: 'Account Verification',
      showBackButton: false, // No back button for KYC
    ),
    settings: const LivenessCheckSettings(
      enableBlinkDetection: true,
      requiredBlinkCount: 2,
      enableSmileDetection: true,
      maxRetryAttempts: 5,
      photoCaptureDelay: Duration(milliseconds: 0), // Immediate capture
    ),
    theme: const LivenessCheckTheme(
      primaryColor: Color(0xFFFF6B35),
      borderStyle: CircleBorderStyle.solid,
      circleSize: 0.75,
    ),
    customBottomWidget: _buildKYCInstructions(),
    callbacks: LivenessCheckCallbacks(
      onSuccess: () =&gt; _submitKYCData(),
      onMaxRetryReached: (count) =&gt; _showKYCFailure(count),
    ),
  ),
)
</code></pre>
<h3 id="7-custom-loading-widgets">7. Custom Loading Widgets</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    // Custom camera initialization loading (shown while camera starts)
    customCameraLoadingWidget: Container(
      color: Colors.white,
      child: Center(
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            CircularProgressIndicator(color: Colors.purple),
            const SizedBox(height: 16),
            const Text('Initializing camera...'),
          ],
        ),
      ),
    ),

    // Custom processing overlay (shown during verification)
    showLoading: _isProcessing,
    customLoadingWidget: Container(
      color: Colors.black87,
      child: Center(
        child: Column(
          mainAxisSize: MainAxisSize.min,
          children: [
            CircularProgressIndicator(color: Colors.purple),
            const SizedBox(height: 16),
            const Text(
              'Processing verification...',
              style: TextStyle(color: Colors.white),
            ),
          ],
        ),
      ),
    ),

    callbacks: LivenessCheckCallbacks(
      onErrorWithType: (errorType, message) {
        switch (errorType) {
          case LivenessCheckError.cameraPermissionDenied:
            _showPermissionDialog();
            break;
          case LivenessCheckError.poorLighting:
            _showLightingTips();
            break;
          default:
            _showGenericError(message);
        }
      },
    ),
  ),
)
</code></pre>
<h3 id="8-custom-permission-dialog">8. Custom Permission Dialog</h3>
<pre class="language-dart"><code class="language-dart">LivenessCheckScreen(
  config: LivenessCheckConfig(
    messages: LivenessCheckMessages(
      permissionDialogConfig: PermissionDialogConfig(
        title: 'Camera Access Required',
        message: 'We need camera access to verify your identity. Please grant permission in your device settings.',
        cancelButtonText: 'Not Now',
        settingsButtonText: 'Open Settings',
      ),
    ),
  ),
)
</code></pre>
<h2 id="-theming-examples">üé® Theming Examples</h2>
<h3 id="dark-theme">Dark Theme</h3>
<pre class="language-dart"><code class="language-dart">const LivenessCheckTheme(
  backgroundColor: Color(0xFF1E1E1E),
  primaryColor: Colors.purple,
  successColor: Colors.teal,
  errorColor: Colors.orange,
  textColor: Colors.white,
  overlayColor: Color(0xFF1E1E1E),
  borderStyle: CircleBorderStyle.dashed,
  dashLength: 12.0,
  dashGap: 8.0,
)
</code></pre>
<h3 id="corporate-theme">Corporate Theme</h3>
<pre class="language-dart"><code class="language-dart">const LivenessCheckTheme(
  backgroundColor: Color(0xFFF8F9FA),
  primaryColor: Color(0xFF1565C0),
  successColor: Color(0xFF2E7D32),
  errorColor: Color(0xFFD32F2F),
  fontFamily: 'Corporate-Font',
  borderWidth: 6,
  circleSize: 0.8,
)
</code></pre>
<h2 id="-error-handling">üîß Error Handling</h2>
<p>The package provides type-safe error handling with detailed error information:</p>
<pre class="language-dart"><code class="language-dart">// Error Types
enum LivenessCheckError {
  cameraPermissionDenied,
  cameraInitializationFailed,
  noFaceDetected,
  multipleFacesDetected,
  imageBlurry,
  faceNotClear,
  moveCloserToCamera,
  poorLighting,
  photoCaptureFailed,
  processingTimeout,
  eyesClosed,        // New: Detected when eyes are closed
  unknownError,
}

// Usage
LivenessCheckCallbacks(
  onErrorWithType: (LivenessCheckError errorType, String message) {
    // Handle specific error types
    _analytics.logError(errorType.toString(), message);
    _showUserFriendlyError(errorType);
  },
)
</code></pre>
<h2 id="-localization">üåç Localization</h2>
<p>Easily localize all text by providing custom messages:</p>
<pre class="language-dart"><code class="language-dart">// Spanish Localization
const LivenessCheckMessages(
  title: 'Verificaci√≥n de Vida',
  noFaceDetected: 'No se detect√≥ rostro. Posicione su cara en el c√≠rculo.',
  multipleFacesDetected: 'Se detectaron m√∫ltiples rostros. Solo una persona.',
  eyesClosed: 'Por favor, mantenga los ojos abiertos.',  // New
  livenessCheckPassed: '¬°Verificaci√≥n exitosa!',
  tryAgainButtonText: 'Intentar Nuevamente',
)
</code></pre>
<h2 id="-performance-tips">‚ö° Performance Tips</h2>
<h3 id="optimize-for-better-performance">Optimize for Better Performance</h3>
<ol>
<li>
<p><strong>Camera Settings</strong></p>
<pre class="language-dart"><code class="language-dart">// Use medium resolution for better performance
ResolutionPreset.medium // Default and recommended
</code></pre>
</li>
<li>
<p><strong>Memory Management</strong></p>
<pre class="language-dart"><code class="language-dart">// Dispose properly when done
@override
void dispose() {
  // Liveness screen handles disposal automatically
  super.dispose();
}
</code></pre>
</li>
<li>
<p><strong>Frame Processing</strong></p>
<pre class="language-dart"><code class="language-dart">LivenessCheckSettings(
  processingTimeout: Duration(seconds: 20), // Adjust based on device performance
)
</code></pre>
</li>
<li>
<p><strong>Quality Detection</strong></p>
<ul>
<li>Enable quality detection to guide users for better images</li>
<li>Use appropriate lighting conditions</li>
<li>Ensure device stability during capture</li>
</ul>
</li>
</ol>
<h3 id="battery-optimization">Battery Optimization</h3>
<ul>
<li>Camera operations are automatically suspended when app goes to background</li>
<li>Face detection stops when liveness check is complete</li>
<li>ML Kit resources are released when screen is disposed</li>
</ul>
<h2 id="-troubleshooting">üîß Troubleshooting</h2>
<h3 id="common-issues">Common Issues</h3>
<h4 id="camera-permission-denied">Camera Permission Denied</h4>
<pre class="language-dart"><code class="language-dart">LivenessCheckCallbacks(
  onErrorWithType: (errorType, message) {
    if (errorType == LivenessCheckError.cameraPermissionDenied) {
      // Guide user to settings
      _showPermissionSettingsDialog();
    }
  },
)
</code></pre>
<h4 id="poor-detection-quality">Poor Detection Quality</h4>
<pre class="language-dart"><code class="language-dart">LivenessCheckCallbacks(
  onErrorWithType: (errorType, message) {
    switch (errorType) {
      case LivenessCheckError.poorLighting:
        _showLightingTips();
        break;
      case LivenessCheckError.imageBlurry:
        _showStabilityTips();
        break;
      case LivenessCheckError.moveCloserToCamera:
        _showDistanceTips();
        break;
    }
  },
)
</code></pre>
<h4 id="multiple-faces-detected">Multiple Faces Detected</h4>
<ul>
<li>Ensure only one person is visible in the camera frame</li>
<li>Check for reflections or images in the background</li>
</ul>
<h3 id="debug-mode">Debug Mode</h3>
<p>Enable debug logging for development:</p>
<pre class="language-dart"><code class="language-dart">// Add this in your main.dart for debug builds
import 'package:flutter/foundation.dart';

void main() {
  if (kDebugMode) {
    // Debug prints are automatically enabled in the package
  }
  runApp(MyApp());
}
</code></pre>
<h2 id="-migration-guide">üö® Migration Guide</h2>
<p>If upgrading from a version that used <code>customHeader</code>, replace it with <code>appBarConfig</code>:</p>
<pre class="language-dart"><code class="language-dart">// Before
LivenessCheckConfig(
  customHeader: AppBar(title: Text('Custom')),
)

// After
LivenessCheckConfig(
  appBarConfig: AppBarConfig(
    title: 'Custom',
    showBackButton: true,
  ),
)
</code></pre>
</section>


      <section class="summary">
          <h2>Libraries</h2>
        <dl>
          <dt id="enhence_light_checker">
  <span class="name"><a href="enhence_light_checker">enhence_light_checker</a></span> 

</dt>
<dd>
</dd>

          <dt id="flutter_liveness_check">
  <span class="name"><a href="flutter_liveness_check">flutter_liveness_check</a></span> 

</dt>
<dd>Flutter Liveness Check Package
</dd>

          <dt id="liveness_check_config">
  <span class="name"><a href="liveness_check_config">liveness_check_config</a></span> 

</dt>
<dd>
</dd>

          <dt id="liveness_check_controller">
  <span class="name"><a href="liveness_check_controller">liveness_check_controller</a></span> 

</dt>
<dd>
</dd>

          <dt id="liveness_check_errors">
  <span class="name"><a href="liveness_check_errors">liveness_check_errors</a></span> 

</dt>
<dd>
</dd>

          <dt id="liveness_check_screen">
  <span class="name"><a href="liveness_check_screen">liveness_check_screen</a></span> 

</dt>
<dd>
</dd>

          <dt id="liveness_result_screen">
  <span class="name"><a href="liveness_result_screen">liveness_result_screen</a></span> 

</dt>
<dd>
</dd>

          <dt id="device_helper">
  <span class="name"><a href="ulti_device_helper">ulti/device_helper</a></span> 

</dt>
<dd>
</dd>

          <dt id="dashed_circle_painter">
  <span class="name"><a href="widget_dashed_circle_painter">widget/dashed_circle_painter</a></span> 

</dt>
<dd>
</dd>

        </dl>
      </section>
  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="https://github.com/DonOzOn/flutter_liveness_package">flutter_liveness_check package</a></li>
</ol>

    <h5 class="hidden-xs"><span class="package-name">flutter_liveness_check</span> <span class="package-kind">package</span></h5>
    <ol>
      <li class="section-title">Libraries</li>
      <li><a href="enhence_light_checker">enhence_light_checker</a></li>
      <li><a href="flutter_liveness_check">flutter_liveness_check</a></li>
      <li><a href="liveness_check_config">liveness_check_config</a></li>
      <li><a href="liveness_check_controller">liveness_check_controller</a></li>
      <li><a href="liveness_check_errors">liveness_check_errors</a></li>
      <li><a href="liveness_check_screen">liveness_check_screen</a></li>
      <li><a href="liveness_result_screen">liveness_result_screen</a></li>
      <li><a href="ulti_device_helper">ulti/device_helper</a></li>
      <li><a href="widget_dashed_circle_painter">widget/dashed_circle_painter</a></li>
</ol>

  </div>
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div>
</main>
<footer>
  <span class="no-break">
    flutter_liveness_check
      1.0.10
  </span>
  
</footer>


<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

</body>
</html>

